!function(){"use strict";function t(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var e=function(){function e(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this._incomeData={}}var n,a,i;return n=e,(a=[{key:"setData",value:function(t){this._incomeData=Object.assign({},t)}},{key:"addData",value:function(t){this._incomeData=Object.assign(this._incomeData,t)}},{key:"getData",value:function(){return this._incomeData}}])&&t(n.prototype,a),i&&t(n,i),e}();function n(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._results={}}var e,a,i;return e=t,(a=[{key:"setResults",value:function(t){this._results=Object.assign({},t)}},{key:"getResults",value:function(){return this._results}}])&&n(e.prototype,a),i&&n(e,i),t}(),i=27,s=.01,o=.002,r=[25,20,450,300,120,50],l={STEEL:{"21.3x2.8":1.57,"26.8x2.8":2.12,"33.5x3.2":2.71,"38x3":3.2,"42.3x3.2":3.59,"45x3":3.9,"48x3.5":4.1,"57x3":5.1,"76x3":7,"89x3":8.3,"108x3":10.2,"133x4":12.5,"159x4.5":15,"219x5":20.9,"273x5":26.3,"325x5":31.5,"426x6":41.4},POLY:{"40x3.7":3.26,"50x2.9":4.42,"63x3.6":5.58,"75x4.3":6.64,"90x5.2":7.96,"110x6.3":9.74,"125x7.1":11.08,"140x8":12.4,"160x9.1":14.18,"180x10.3":15.94,"200x11.4":17.72,"225x12.8":19.94,"250x14.2":22.16,"280x15.9":24.82,"315x17.9":27.92,"355x20.1":31.48,"400x22.7":35.46,"450x25.5":39.9,"500x28.4":44.32,"560x31.7":49.66,"630x35.7":55.86}},c="afterbegin",u="afterend",d="beforeend",_="beforebegin",p="intro",f="income-data",b="income-segments",h="results",m="steel",y="poly",v="Введіть дані",g="Значення не може бути більше ",k="Значення не може бути менше ",w=function(t,e,n){switch(t instanceof S&&(t=t.getElement()),e instanceof S&&(e=e.getElement()),n){case c:t.prepend(e);break;case u:t.after(e);break;case d:t.append(e);break;case _:t.before(e)}},C=function(t){if(null!==t){if(!(t instanceof S))throw new Error("Can remove only components");t.getElement().remove(),t.removeElement()}};function D(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var S=function(){function t(){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),(this instanceof t?this.constructor:void 0)===t)throw new Error("Can't instantiate Abstract, only concrete one.");this._element=null,this._callback={}}var e,n,a;return e=t,(n=[{key:"getTemplate",value:function(){throw new Error("Abstract method not implemented: getTemplate")}},{key:"getElement",value:function(){var t,e;return this._element||(this._element=(t=this.getTemplate(),(e=document.createElement("div")).innerHTML=t,e.firstChild)),this._element}},{key:"removeElement",value:function(){this._element=null}},{key:"shake",value:function(t){var e=this;this.getElement().style.animation="shake ".concat(.6,"s"),setTimeout((function(){e.getElement().style.animation="",t()}),600)}}])&&D(e.prototype,n),a&&D(e,a),t}();function x(t){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function B(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function E(t,e){return(E=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function O(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=j(t);if(e){var i=j(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return M(this,n)}}function M(t,e){return!e||"object"!==x(e)&&"function"!=typeof e?P(t):e}function P(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j(t){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var q=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&E(t,e)}(s,t);var e,n,a,i=O(s);function s(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(t=i.call(this))._beginButtonClickHandler=t._beginButtonClickHandler.bind(P(t)),t}return e=s,(n=[{key:"getTemplate",value:function(){return'<section id="intro">\n      <div class="section__container">\n        <h1 class="site-heading">Розрахунок внутрішньо-будинкової газової мережі</h1>\n\n        <p class="intro__text">\n          Розрахунок проводиться аналітичним методом рівномірного розподілу гідравлічного нахилу шляхом підбору\n          ділянок мережі з метою уточнити втрати тиску газу на кожній ділянці і загалом у\n          газовій мережі житлового будинку\n        </p>\n\n        <a class="button intro__button intro__button--info"\n          href="https://github.com/embyth/indoor-gas-network#fire-%D1%80%D0%BE%D0%B7%D1%80%D0%B0%D1%85%D1%83%D0%BD%D0%BE%D0%BA-%D0%B2%D0%BD%D1%83%D1%82%D1%80%D1%96%D1%88%D0%BD%D1%8C%D0%BE-%D0%B1%D1%83%D0%B4%D0%B8%D0%BD%D0%BA%D0%BE%D0%B2%D0%BE%D1%97-%D0%B3%D0%B0%D0%B7%D0%BE%D0%B2%D0%BE%D1%97-%D0%BC%D0%B5%D1%80%D0%B5%D0%B6%D1%96"\n          target="_blank">Інформація</a>\n        <button class="button intro__button intro__button--begin" type="button">Почати</button>\n      </div>\n    </section>'}},{key:"setBeginButtonClickHandler",value:function(t){this._callback.click=t,this.getElement().querySelector(".intro__button--begin").addEventListener("click",this._beginButtonClickHandler)}},{key:"_beginButtonClickHandler",value:function(t){t.preventDefault(),this._callback.click()}}])&&B(e.prototype,n),a&&B(e,a),s}(S),H=function(t,e){return Math.floor(Math.random()*(e-t))+t},A=function(t,e,n){return(Math.random()*(e-t)+t).toFixed(n)},L=function(t){return t[(e=t.length,Math.floor(Math.random()*e))];var e},T=function(t){t.classList.contains("data__input")?t.classList.add("data__input--error"):t.classList.add("data__table-input--error")},V=function(t){t.classList.contains("data__input")?t.classList.remove("data__input--error"):t.classList.remove("data__table-input--error")};function R(t){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function N(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function F(t,e){return(F=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function I(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=Y(t);if(e){var i=Y(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return U(this,n)}}function U(t,e){return!e||"object"!==R(e)&&"function"!=typeof e?K(t):e}function K(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Y(t){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Q=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&F(t,e)}(s,t);var e,n,a,i=I(s);function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=i.call(this))._incomeDataModel=t,e._nextButtonClickHandler=e._nextButtonClickHandler.bind(K(e)),e}return e=s,(n=[{key:"getTemplate",value:function(){return t=this._getData(),e=t.allowablePressure,n=t.startingPressure,a=t.density,i=t.viscosity,s=t.segmentsAmount,o=t.overloadFactor,r=t.averageTemperature,l=t.calcAccurance,c=t.atmosphericPressure,u=t.maxVelosity,d=t.averageConsumption,'<section id="income-data">\n      <div class="section__container">\n        <h2 class="section-heading">Вихідні дані для розрахунку</h2>\n\n        <fieldset class="data__fieldset">\n          <div class="data__fieldset-replacer">\n            <div class="data__container data__container--left">\n\n              <div class="data__item">\n                <label for="allowable-pressure" class="data__label">Допустимий перепад тиску газу</label>\n                <dfn class="data__input--definition">ΔР<sub>доп</sub></dfn>\n                <input type="number" class="data__input data__input--allowable-pressure" id="allowable-pressure"\n                  placeholder="300" min="0" max="3000" autocomplete="off" required value="'.concat(e||"",'">\n                <span class="data__input--dimension">Па</span>\n              </div>\n\n              <div class="data__item">\n                <label for="starting-pressure" class="data__label">Початковий надлишковий тиск газу</label>\n                <dfn class="data__input--definition">Р<sub>п</sub></dfn>\n                <input type="number" class="data__input data__input--starting-pressure" id="starting-pressure"\n                  placeholder="1600" min="0" max="5000" autocomplete="off" required value="').concat(n||"",'">\n                <span class="data__input--dimension">Па</span>\n              </div>\n\n              <div class="data__item">\n                <label for="gas-density" class="data__label">Густина газу за нормальних умов</label>\n                <dfn class="data__input--definition">ρ<sub>н</sub></dfn>\n                <input type="number" class="data__input data__input--gas-density" id="gas-density"\n                  placeholder="0.8350" min="0.5" max="1" step="0.001" autocomplete="off" required value="').concat(a||"",'">\n                <span class="data__input--dimension">кг/м<sup>3</sup></span>\n              </div>\n\n              <div class="data__item">\n                <label for="gas-viscosity" class="data__label">Кінематична в\'язкість газу за норм. умов</label>\n                <dfn class="data__input--definition">υ×10<sup>-6</sup></dfn>\n                <input type="number" class="data__input data__input--gas-viscosity" id="gas-viscosity"\n                  placeholder="12.39" min="10" max="15" step="0.001" autocomplete="off" required value="').concat(i||"",'">\n                <span class="data__input--dimension">м<sup>2</sup>/с</span>\n              </div>\n\n              <div class="data__item">\n                <label for="segments-amount" class="data__label">Кількість ділянок руху газу</label>\n                <dfn class="data__input--definition">n</dfn>\n                <input type="number" class="data__input data__input--segments-amount" id="segments-amount"\n                  placeholder="10" min="1" max="30" autocomplete="off" required value="').concat(s||"",'">\n                <span class="data__input--dimension">шт</span>\n              </div>\n\n              <div class="data__item">\n                <label for="overload-factor" class="data__label">Коефіцієнт перевантаження мережі</label>\n                <dfn class="data__input--definition">k</dfn>\n                <input type="number" class="data__input data__input--overload-factor" id="overload-factor"\n                  placeholder="1" min="0.1" max="2" step="0.001" autocomplete="off" required value="').concat(o||"",'">\n              </div>\n            </div>\n\n            <div class="data__container data__container--right">\n              <div class="data__item">\n                <label for="average-temperature" class="data__label">Середня температура газу в мережі</label>\n                <dfn class="data__input--definition">Т<sub>ср</sub></dfn>\n                <input type="number" class="data__input data__input--average-temperature" id="average-temperature"\n                  placeholder="12" min="-10" max="50" autocomplete="off" required value="').concat(r||"",'">\n                <span class="data__input--dimension"><sup>о</sup>С</span>\n              </div>\n\n              <div class="data__item">\n                <label for="calc-accurance" class="data__label">Точність розрахунку</label>\n                <dfn class="data__input--definition">ε</dfn>\n                <input type="number" class="data__input data__input--calc-accurance" id="calc-accurance"\n                  placeholder="1" min="0.1" max="100" step="0.001" autocomplete="off" required value="').concat(l||"",'">\n                <span class="data__input--dimension">%</span>\n              </div>\n\n              <div class="data__item">\n                <label for="atmospheric-pressure" class="data__label">Атмосферний тиск</label>\n                <dfn class="data__input--definition">Р<sub>бар</sub></dfn>\n                <input type="number" class="data__input data__input--atmospheric-pressure" id="atmospheric-pressure"\n                  placeholder="101325" min="90000" max="110000" autocomplete="off" required value="').concat(c||"",'">\n                <span class="data__input--dimension">Па</span>\n              </div>\n\n              <div class="data__item">\n                <label for="gas-speed" class="data__label">Максимальна швидкість газу в мережі</label>\n                <dfn class="data__input--definition">w<sub>max</sub></dfn>\n                <input type="number" class="data__input data__input--gas-speed" id="gas-speed" placeholder="7"\n                  min="0.1" max="9" step="0.001" autocomplete="off" required value="').concat(u||"",'">\n                <span class="data__input--dimension">м/с</span>\n              </div>\n\n              <div class="data__item">\n                <label for="gas-consumption" class="data__label">Значення усередненої витрати газу</label>\n                <dfn class="data__input--definition">Q<sub>cp</sub></dfn>\n                <input type="number" class="data__input data__input--gas-consumption" id="gas-consumption"\n                  placeholder="11" min="0.1" max="50" step="0.001" autocomplete="off" required value="').concat(d||"",'">\n                <span class="data__input--dimension">м<sup>3</sup>/год</span>\n              </div>\n\n              <div class="data__item">\n                <button class="button data__button data__button--next" type="button">Далі</button>\n              </div>\n            </div>\n          </div>\n        </fieldset>\n      </div>\n    </section>');var t,e,n,a,i,s,o,r,l,c,u,d}},{key:"setNextButtonClickHandler",value:function(t){this._callback.click=t,this.getElement().querySelector(".data__button--next").addEventListener("click",this._nextButtonClickHandler)}},{key:"_getData",value:function(){return this._incomeDataModel.getData()}},{key:"_nextButtonClickHandler",value:function(t){t.preventDefault(),this._isUserDataValid()&&(this._incomeDataModel.setData(this._collectData()),this._callback.click())}},{key:"_checkInputValidity",value:function(t){t.validity.valueMissing?(t.setCustomValidity(v),t.reportValidity(),T(t)):t.validity.rangeUnderflow?(t.setCustomValidity(k+t.min),t.reportValidity(),T(t)):t.validity.rangeOverflow?(t.setCustomValidity(g+t.max),t.reportValidity(),T(t)):(t.setCustomValidity(""),V(t))}},{key:"_isUserDataValid",value:function(){var t=this,e=this.getElement().querySelectorAll("input"),n=[];return e.forEach((function(e){e.checkValidity()||(T(e),n.push(e),e.addEventListener("input",(function(e){t._checkInputValidity(e.target)})))})),n.length&&this._checkInputValidity(n[0]),0===n.length}},{key:"_collectData",value:function(){return{allowablePressure:+this.getElement().querySelector("#allowable-pressure").value,startingPressure:+this.getElement().querySelector("#starting-pressure").value,density:+this.getElement().querySelector("#gas-density").value,viscosity:+this.getElement().querySelector("#gas-viscosity").value*Math.pow(10,-6),segmentsAmount:+this.getElement().querySelector("#segments-amount").value,overloadFactor:+this.getElement().querySelector("#overload-factor").value,averageTemperature:+this.getElement().querySelector("#average-temperature").value+273.15,calcAccurance:+this.getElement().querySelector("#calc-accurance").value/100,atmosphericPressure:+this.getElement().querySelector("#atmospheric-pressure").value,maxVelosity:+this.getElement().querySelector("#gas-speed").value,averageConsumption:+this.getElement().querySelector("#gas-consumption").value}}}])&&N(e.prototype,n),a&&N(e,a),s}(S);function $(t){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function z(t){return function(t){if(Array.isArray(t))return G(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return G(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function J(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function W(t,e){return(W=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function X(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=et(t);if(e){var i=et(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return Z(this,n)}}function Z(t,e){return!e||"object"!==$(e)&&"function"!=typeof e?tt(t):e}function tt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function et(t){return(et=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var nt=function(t){var e=t.pipeType?t.pipeType:m,n=function(t){for(var e=t.segmentsAmount,n=t.segmentsNames,a=t.consumptions,i=t.lengths,s=t.resistCoefs,o=t.moveDirections,l="",c=0;c<e;c++){var u=c+1;l+='<tr class="data__table-row">\n        <td class="data__table-cell data__table-cell--number">Ділянка '.concat(u,'</td>\n        <td class="data__table-cell data__table-cell--segment">\n          <input type="text" class="data__table-input data__table-input--segment" placeholder="').concat(H(1,15),"-").concat(H(1,15),'" autocomplete="off" required value="').concat(n?n[c]:"",'">\n        </td>\n        <td class="data__table-cell data__table-cell--consumption">\n          <dfn class="data__input--definition">Q<sub>').concat(u,'</sub></dfn>\n          <input type="number" class="data__table-input data__table-input--consumption" placeholder="').concat(A(1,15,2),'" autocomplete="off" min="0" max="100" step="0.01" required value="').concat(a?a[c]:"",'">\n          <span class="data__input--dimension">м<sup>3</sup>/год</span>\n        </td>\n        <td class="data__table-cell data__table-cell--length">\n          <dfn class="data__input--definition">l<sub>').concat(u,'</sub></dfn>\n          <input type="number" class="data__table-input data__table-input--length" placeholder="').concat(A(1,12,1),'" autocomplete="off"\n            min="0.1" max="100" step="0.01" required value="').concat(i?i[c]:"",'">\n          <span class="data__input--dimension">м</span>\n        </td>\n        <td class="data__table-cell data__table-cell--resist-coef">\n          <dfn class="data__input--definition">a<sub>').concat(u,'</sub></dfn>\n          <input type="number" class="data__table-input data__table-input--resist-coef" placeholder="').concat(L(r),'"\n            autocomplete="off" min="20" max="450" step="5" required value="').concat(s?s[c]:"",'">\n          <span class="data__input--dimension">%</span>\n        </td>\n        <td class="data__table-cell data__table-cell--movement-direction">\n          <select class="data__table-input data__table-input--select data__table-input--movement-direction">\n          ').concat(o?'<option value="0" '.concat(0===o[c]?"selected":"",'>Горизонтальний</option>\n            <option value="-1" ').concat(-1===o[c]?"selected":"",'>Вгору</option>\n            <option value="1" ').concat(1===o[c]?"selected":"",">Вниз</option>"):'<option value="0" selected>Горизонтальний</option>\n            <option value="-1">Вгору</option>\n            <option value="1">Вниз</option>',"\n          </select>\n        </td>\n      </tr>")}return l}(t);return'<section id="income-segments">\n      <div class="section__container">\n        <h2 class="section-heading">Вихідні дані ділянок мережі</h2>\n\n        <fieldset class="data__fieldset">\n          <div class="data__fieldset-replacer">\n            <div class="data__container data__container--segments">\n\n              <table class="data__table data__table--segments">\n                <thead class="data__table-head">\n                  <tr>\n                    <td class="data__table-cell data__table-cell--number">Номер</td>\n                    <td class="data__table-cell data__table-cell--segment">Ділянка</td>\n                    <td class="data__table-cell data__table-cell--consumption">Розрахункова витрата газу</td>\n                    <td class="data__table-cell data__table-cell--length">Довжина</td>\n                    <td class="data__table-cell data__table-cell--resist-coef">Коеф. місцевого опору</td>\n                    <td class="data__table-cell data__table-cell--movement-direction">Напрям руху газу</td>\n                  </tr>\n                </thead>\n                <tbody class="data__table-body">\n                  '.concat(n,'\n                </tbody>\n              </table>\n\n            </div>\n            <div class="data__footer">\n              <div class="data__footer-item">\n                <span class="data__legend">Тип газопроводів:</span>\n                <div class="data__radio-wrapper">\n                  <input type="radio" class="data__input data__input--pipe-steel visually-hidden" id="pipe-steel"\n                    value="steel" name="pipe-type" ').concat(e===m?"checked":"",'>\n                  <label for="pipe-steel" class="data__label">Сталеві</label>\n                </div>\n                <div class="data__radio-wrapper">\n                  <input type="radio" class="data__input data__input--pipe-poly visually-hidden" id="pipe-poly"\n                    value="poly" name="pipe-type" ').concat(e===y?"checked":"",'>\n                  <label for="pipe-poly" class="data__label">Поліетиленові</label>\n                </div>\n              </div>\n              <div class="data__footer-item">\n                <button class="button data__button data__button--calc" type="button">Розрахувати</button>\n              </div>\n            </div>\n          </div>\n        </fieldset>\n      </div>\n    </section>')},at=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&W(t,e)}(s,t);var e,n,a,i=X(s);function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=i.call(this))._incomeDataModel=t,e._calcButtonClickHandler=e._calcButtonClickHandler.bind(tt(e)),e}return e=s,(n=[{key:"getTemplate",value:function(){return nt(this._getData())}},{key:"setCalcButtonClickHandler",value:function(t){this._callback.click=t,this.getElement().querySelector(".data__button--calc").addEventListener("click",this._calcButtonClickHandler)}},{key:"_calcButtonClickHandler",value:function(t){t.preventDefault(),this._isUserDataValid()&&(this._incomeDataModel.addData(this._collectData()),this._callback.click())}},{key:"_getData",value:function(){return this._incomeDataModel.getData()}},{key:"_checkInputValidity",value:function(t){t.validity.valueMissing?(t.setCustomValidity(v),t.reportValidity(),T(t)):t.validity.rangeUnderflow?(t.setCustomValidity(k+t.min),t.reportValidity(),T(t)):t.validity.rangeOverflow?(t.setCustomValidity(g+t.max),t.reportValidity(),T(t)):(t.setCustomValidity(""),V(t))}},{key:"_isUserDataValid",value:function(){var t=this,e=this.getElement().querySelectorAll("input"),n=[];return e.forEach((function(e){e.checkValidity()||(T(e),n.push(e),e.addEventListener("input",(function(e){t._checkInputValidity(e.target)})))})),n.length&&this._checkInputValidity(n[0]),0===n.length}},{key:"_collectData",value:function(){for(var t=this.getElement().querySelectorAll(".data__table-input--segment"),e=this.getElement().querySelectorAll(".data__table-input--consumption"),n=this.getElement().querySelectorAll(".data__table-input--length"),a=this.getElement().querySelectorAll(".data__table-input--resist-coef"),i=this.getElement().querySelectorAll(".data__table-input--movement-direction"),s=[],o=[],r=[],l=[],c=[],u=z(this.getElement().querySelectorAll('input[name="pipe-type"]')).find((function(t){return t.checked})).value,d=0;d<this._getData().segmentsAmount;d++)s.push(t[d].value),o.push(parseFloat(e[d].value)),r.push(parseFloat(n[d].value)),l.push(parseFloat(a[d].value)),c.push(parseFloat(i[d].value));return{segmentsNames:s,consumptions:o,lengths:r,resistCoefs:l,moveDirections:c,pipeType:u}}}])&&J(e.prototype,n),a&&J(e,a),s}(S);function it(t){return(it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function st(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function ot(t,e){return(ot=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function rt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,a=ct(t);if(e){var i=ct(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return lt(this,n)}}function lt(t,e){return!e||"object"!==it(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ct(t){return(ct=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ut=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ot(t,e)}(s,t);var e,n,a,i=rt(s);function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=i.call(this))._resultsModel=t,e}return e=s,(n=[{key:"getTemplate",value:function(){return t=this._resultsModel.getResults(),e=function(t){for(var e=t.segmentsAmount,n=t.segmentsNames,a=t.lengths,i=t.consumptions,s=t.estimatedDiameters,o=t.pressureLosses,r=t.pressureChanges,l=t.sumPressureChanges,c=t.endingPressures,u="",d=0;d<e;d++)u+='<tr class="data__table-row">\n        <td class="data__table-cell data__table-cell--segment">'.concat(n[d],'</td>\n        <td class="data__table-cell data__table-cell--length">\n          <dfn class="data__input--definition">l<sub>').concat(n[d],'</sub></dfn>\n          <span class="data__value">').concat(a[d],'</span>\n          <span class="data__input--dimension">м</span>\n        </td>\n        <td class="data__table-cell data__table-cell--consumption">\n          <dfn class="data__input--definition">Q<sub>').concat(n[d],'</sub></dfn>\n          <span class="data__value">').concat(i[d],'</span>\n          <span class="data__input--dimension">м<sup>3</sup>/год</span>\n        </td>\n        <td class="data__table-cell data__table-cell--diameter">').concat(s[d],'</td>\n        <td class="data__table-cell data__table-cell--pressure-loss">\n          <dfn class="data__input--definition">ΔP<sub>').concat(n[d],'</sub></dfn>\n          <span class="data__value">').concat(o[d],'</span>\n          <span class="data__input--dimension">Па</span>\n        </td>\n        <td class="data__table-cell data__table-cell--pressure-drop">\n          <dfn class="data__input--definition">ΔP<sub>гс<sub class="data__sub">').concat(n[d],'</sub></sub></dfn>\n          <span class="data__value">').concat(r[d],'</span>\n          <span class="data__input--dimension">Па</span>\n        </td>\n        <td class="data__table-cell data__table-cell--total-pressure-drop">\n          <dfn class="data__input--definition">ΔP<sub>заг<sub class="data__sub">').concat(n[d],'</sub></sub></dfn>\n          <span class="data__value">').concat(l[d],'</span>\n          <span class="data__input--dimension">Па</span>\n        </td>\n        <td class="data__table-cell data__table-cell--ending-pressure">\n          <dfn class="data__input--definition">P<sub>к<sub class="data__sub">').concat(n[d],'</sub></sub></dfn>\n          <span class="data__value">').concat(c[d],'</span>\n          <span class="data__input--dimension">Па</span>\n        </td>\n      </tr>');return u}(t),'<section id="results">\n      <div class="section__container">\n        <h2 class="section-heading">Результати гідравлічного розрахунку будинкової мережі</h2>\n\n        <div class="data__container data__container--results">\n\n          <table class="data__table data__table--results">\n            <thead class="data__table-head">\n              <tr class="data__table-row">\n                <td class="data__table-cell data__table-cell--segment">Ділянка</td>\n                <td class="data__table-cell data__table-cell--length">Довжина</td>\n                <td class="data__table-cell data__table-cell--consumption">Розрахункова витрата газу</td>\n                <td class="data__table-cell data__table-cell--diameter">Діаметр&nbsp;<dfn>D<sub>з</sub>×δ</dfn>,&nbsp;\n                  <span>мм</span></td>\n                <td class="data__table-cell data__table-cell--pressure-loss">Втрати тиску від тертя у місцевих опорах\n                </td>\n                <td class="data__table-cell data__table-cell--pressure-drop">Гідростатичний перепад тиску</td>\n                <td class="data__table-cell data__table-cell--total-pressure-drop">Загальний перепад тиску</td>\n                <td class="data__table-cell data__table-cell--ending-pressure">Кінцевий надлишковий тиск на ділянці\n                </td>\n              </tr>\n            </thead>\n            <tbody class="data__table-body">\n              '.concat(e,"\n            </tbody>\n          </table>\n\n        </div>\n\n      </div>\n    </section>");var t,e}}])&&st(e.prototype,n),a&&st(e,a),s}(S),dt=function(t,e,n,a){return.036238*Math.sqrt(t*e/(n*a))},_t=function(t,e,n,a,i){return 69*Math.pow(t/e+n*e*1922/a,.25)*(Math.pow(a,2)*i)/Math.pow(e,5)},pt=function(t,e,n){return.0354*t/(e*n)},ft=function(t,e,n,a,i){return 1.132*Math.pow(10,6)*(t*e*n*i)/Math.pow(a,4)},bt=function(t,e,n,a,i){return Math.pow(t,2.333)*e*n*.516/(Math.pow(a,5.333)*Math.pow(i,.333))},ht=function(t,e,n,a,i,s){return 69*Math.pow(t/e+n*e*1922/a,.25)*(Math.pow(a,2)*i*s)/Math.pow(e,5)},mt=function(t,e,n){return 9.81*t*(1.293-e)*n},yt=function(t,e){return t-e},vt=function(t,e){for(var n,a,i=t.startingPressure,r=t.allowablePressure,c=t.density,u=t.viscosity,d=t.segmentsAmount,_=t.overloadFactor,p=t.averageTemperature,f=t.calcAccurance,b=t.atmosphericPressure,h=t.maxVelosity,y=t.averageConsumption,v=t.pipeType,g=t.lengths,k=t.resistCoefs,w=t.consumptions,C=t.segmentsNames,D=t.moveDirections,S=v===m?l.STEEL:l.POLY,x=v===m?s:o,B=[],E=0,O=0;O<d;O++){var M=parseFloat((n=g[O],a=k[O],n*(1+a/100)));B.push(M),E+=M}var P=function(t,e,n){return(t+.5*(e+n))*Math.pow(10,-6)}(b,i,function(t,e){return t-e}(i,r)),j=function(t,e,n){return t*(e/n)}(_,r,E),q=0,H=0;for(H=h;f<Math.abs(q-j);H-=.001){var A=dt(y,p,P,H);q=_t(x,A,u,y,c)}for(var L=[],T=[],V=[],R=[],N=[],F=[],I=0,U=0;U<d;U++){var K=dt(w[U],p,P,H);for(var Y in S)if(!(K-S[Y]>0)){K=S[Y],L.push(Y);break}var Q=pt(w[U],K,u),$=0;$=Q>=4e3?ht(x,K,u,w[U],c,B[U]):Q>=2e3&&Q<4e3?bt(w[U],c,B[U],K,u):ft(w[U],u,c,K,B[U]);var z=mt(g[U],c,D[U]),G=$+z;I+=G;var J=yt(i,G);i=J,T.push(Q.toFixed()),V.push($.toFixed()),R.push(z.toFixed()),N.push(G.toFixed()),F.push(J.toFixed())}e.setResults({segmentsAmount:d,segmentsNames:C,lengths:g,consumptions:w,estimatedDiameters:L,pressureLosses:V,pressureChanges:R,sumPressureChanges:N,endingPressures:F,velocity:H,sumPressureLoss:I})};function gt(t){return function(t){if(Array.isArray(t))return kt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return kt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kt(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}function wt(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}new(function(){function t(e,n,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._contentContainer=e,this._incomeDataModel=n,this._resultsModel=a,this._isMenuOpen=!1,this._currentSection=p,this._introComponent=new q,this._incomeComponent=new Q(this._incomeDataModel),this._segmentsComponent=new at(this._incomeDataModel),this._resultsComponent=new ut(this._resultsModel),this._hamburgerNode=document.querySelector(".hamburger"),this._menuNode=document.querySelector(".site-header__links-list"),this._overlayNode=document.querySelector(".menu-overlay"),this._navigationButtons=document.querySelectorAll(".site-nav__button"),this._handleSiteMenuOpen=this._handleSiteMenuOpen.bind(this),this._handleSiteMenuClose=this._handleSiteMenuClose.bind(this),this._hamburgerKeyDownHandler=this._hamburgerKeyDownHandler.bind(this),this._hamburgerClickHandler=this._hamburgerClickHandler.bind(this),this._navButtonsClickHandler=this._navButtonsClickHandler.bind(this),this._handleBeginButtonClick=this._handleBeginButtonClick.bind(this),this._handleNextButtonClick=this._handleNextButtonClick.bind(this),this._handleCalcButtonClick=this._handleCalcButtonClick.bind(this)}var e,n,a;return e=t,(n=[{key:"init",value:function(){w(this._contentContainer,this._introComponent,d),this._introComponent.setBeginButtonClickHandler(this._handleBeginButtonClick),this._setPageHandlers()}},{key:"_pageSectionHandler",value:function(t){switch(this._clearPage(),this._handleNavButtonsActiveState(t),t){case p:w(this._contentContainer,this._introComponent,d),this._introComponent.setBeginButtonClickHandler(this._handleBeginButtonClick);break;case f:w(this._contentContainer,this._incomeComponent,d),this._incomeComponent.setNextButtonClickHandler(this._handleNextButtonClick);break;case b:w(this._contentContainer,this._segmentsComponent,d),this._segmentsComponent.setCalcButtonClickHandler(this._handleCalcButtonClick);break;case h:w(this._contentContainer,this._resultsComponent,d)}this._currentSection=t}},{key:"_clearPage",value:function(){switch(this._currentSection){case p:C(this._introComponent);break;case f:C(this._incomeComponent);break;case b:C(this._segmentsComponent);break;case h:C(this._resultsComponent)}}},{key:"_setPageHandlers",value:function(){var t=this;this._hamburgerNode.addEventListener("click",this._hamburgerClickHandler),this._overlayNode.addEventListener("click",this._hamburgerClickHandler),this._navigationButtons.forEach((function(e){return e.addEventListener("click",t._navButtonsClickHandler)}))}},{key:"_handleBeginButtonClick",value:function(){this._pageSectionHandler(f)}},{key:"_handleNextButtonClick",value:function(){gt(this._navigationButtons).find((function(t){return t.dataset.section===b})).disabled=!1,this._pageSectionHandler(b)}},{key:"_handleCalcButtonClick",value:function(){vt(this._incomeDataModel.getData(),this._resultsModel),gt(this._navigationButtons).find((function(t){return t.dataset.section===h})).disabled=!1,this._pageSectionHandler(h)}},{key:"_navButtonsClickHandler",value:function(t){t.preventDefault();var e=t.target.dataset.section;this._currentSection!==e&&this._pageSectionHandler(e)}},{key:"_handleNavButtonsActiveState",value:function(t){this._navigationButtons.forEach((function(t){return t.classList.remove("site-nav__button--current")})),gt(this._navigationButtons).find((function(e){return e.dataset.section===t})).classList.add("site-nav__button--current")}},{key:"_handleSiteMenuOpen",value:function(){document.body.style.overflowY="hidden",this._hamburgerNode.classList.add("is-active"),this._menuNode.classList.add("site-header__links-list--show"),this._overlayNode.classList.add("menu-overlay--show"),document.addEventListener("keydown",this._hamburgerKeyDownHandler)}},{key:"_handleSiteMenuClose",value:function(){document.body.style.overflowY="auto",this._hamburgerNode.classList.remove("is-active"),this._menuNode.classList.remove("site-header__links-list--show"),this._overlayNode.classList.remove("menu-overlay--show"),document.removeEventListener("keydown",this._hamburgerKeyDownHandler)}},{key:"_hamburgerKeyDownHandler",value:function(t){(function(t){return t.keyCode===i})(t)&&(this._isMenuOpen=!1,this._handleSiteMenuClose())}},{key:"_hamburgerClickHandler",value:function(t){t.preventDefault(),this._isMenuOpen?(this._isMenuOpen=!1,this._handleSiteMenuClose()):(this._isMenuOpen=!0,this._handleSiteMenuOpen())}}])&&wt(e.prototype,n),a&&wt(e,a),t}())(document.querySelector("#site-content"),new e,new a).init()}();